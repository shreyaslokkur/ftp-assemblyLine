<!DOCTYPE html>
<html  ng-app="reportApp" >
<head>
    <meta charset="utf-8">
    <!--<meta http-equiv="X-UA-Compatible" content="IE=edge">-->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content=""> 

    <title>Vindhya eInfomedia</title>
     <!-- jQuery -->
    <script src="../../resources/assets/lib/jquery.js"></script>

    
    <!-- Bootstrap Core JavaScript -->
    <script src="../../resources/assets/lib/bootstrap.min.js"></script>
   <script src="../../resources/assets/lib/angular.js"></script>
    <!--script src="//cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/0.13.0/ui-bootstrap-tpls.min.js"></script>-->
    <script src="../../resources/assets/lib/ui-bootstrap-tpls.js"></script>
    <script src="../../resources/assets/js//reportModule.js"></script>
    <script src="../../resources/assets/js//ReportService.js"></script>
    <script src="../../resources/assets/js//ApproverController.js"></script>

    
    <link href="../../resources/assets/css/bootstrap.css" rel="stylesheet" />
     <link href="../../resources/assets/css/Common.css" rel="stylesheet" />
    <link href="../../resources/assets/css/font-awesome.min.css" rel="stylesheet" />
    <link href="../../resources/assets/css/1-col-portfolio.css" rel="stylesheet" />

   
</head>
<body ng-controller="ApproverController">
  
       <!-- Navigation -->
    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand pull-left"  style="color:azure" href="#">Vindhya eInfomedia</a>
               
            
            <!-- Collect the nav links, forms, and other content for toggling -->
           <!-- <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav">
                   <!-- <li>
                        <a href="#">About</a>
                    </li>
                    <li>
                        <a href="#">Services</a>
                    </li>
                    <li>
                        <a href="#">Contact</a>
                    </li>
                </ul>
            </div>-->
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>

         <!-- <table id="Table1"  class="table table-bordered table-striped">
              <tr><td><button class="btn btn-primary"><i class="fa fa-list-ul"></i>&nbsp;All Documents</button>&nbsp;&nbsp;<button class="btn btn-primary"><i class="fa fa-filter"></i>&nbsp;My Documents</button></td></tr>                
                            
          </table>-->

      
       <span style="max-width:98%;padding-left:10px;padding-right:10px;text-align:center">
                       <table id="dOTable"  class="table table-bordered table-striped">
                              
                         <thead>
                             
                                 <th>Doc Id</th>
                                 <th>Booklet No</th>
                                 <th>Application No</th>
                                 <th>Branch Name</th>
                                 <th>Place of Meeting</th>
                                 <th>No of Customers</th>
                                 <th>Recieved Time</th>
                                 <th>Completed At</th>
                                 <th>Completed By</th>
                                 <th>Query Level</th>
                                 <th>Approve</th>
                                 <th>Reject</th>
                                 <th>Comments</th>
                                
                                
                         </thead>


                            
                                 <tr ng-repeat="doc in docRecords">
                                     <td>{{doc.documentId}}</td>
                                     <td>{{doc.bookletNo}}</td>
                                     <td>{{doc.applicationNo}}</td>
                                     <td>{{doc.branchName}}</td>
                                     <td>{{doc.placeOfMeeting}}</td>
                                     <td>{{doc.numOfCustomers}}</td>
                                     <td>{{doc.recCreatedOn}}</td>
                                     <td>{{doc.recCompletedOn}}</td>
                                      <td>{{doc.completedBy}}</td>
                                      <td ng-class="{'colorRed': doc.queryLevel > 3, '': doc.queryLevel < 3}">{{doc.queryLevel}}</td>
                                      <td><button class="btn btn-success" title="Approve" ng-click="approveRecord(doc)"><i class="fa fa-check"></i></button></td>
                                      <td><button class="btn btn-danger" title="Reject" ng-click="openCommentsPopup(doc)"  ><i class="fa fa-times"></i></button></td>
                                     <td><button class="btn btn-primary"  ng-click="ShowComments(doc);" title="View Comments"><i class="fa fa-comments"></i></button></td>
                                </tr>

                                   
                            

                             
                        </table>
                  </span>
           
             
        
              
             



        <hr>

        <!-- Footer -->
        <footer>
            <div class="row">
                <div class="col-lg-12" style="text-align:center">
                    <p>Copyright &copy; Vindhya eInfomedia 2015</p>
                </div>
            </div>
            <!-- /.row -->
        </footer>

     <script type="text/ng-template" id="myModalContent.html">
        <div class="modal-header">
            <h3 class="modal-title">Comments</h3>
        </div>
        <div class="modal-body">

          <div class="container" >
            <div class="row" style="padding-top:5px">
                  <div class="col-md-2" style="padding-left:0px!important">
                        <b>Branch Name :</b> 
                  </div>

                  <div class="col-md-10">
                        {{doc.branchName}}
                  </div>
            </div>
          <div class="row" style="padding-top:5px;">
                  <div class="col-md-2" style="padding-left:0px!important">
                  
                        <b>Booklet No :</b>
                  </div>

                  <div class="col-md-10">
                       {{doc.bookletNumber}}
                  </div>
                 
            </div>
          <div class="row" style="padding-top:5px">
                  <div class="col-md-2" style="padding-left:0px!important">
                 
                        <b>Application No :</b>
                  </div>

                  <div class="col-md-10">
                       {{doc.applicationNumber}}
                  </div>
                
            </div>
        
          <br/>
          
          <div class="row" ng-if="doc.comments.length>0" ng-repeat="comment in doc.comments">
            
                    <div class="container" >
                        <div class="row" style="border: 1px solid grey ;background-color:#e9eaed;width:505px;padding-top:5px;padding-left:2px" >

                            <p>{{comment.comments}}   <span class="pull-right" style="font-size:6pt">- {{comment.commentedBy}}</span></p>
                        </div>
          
                    </div>
          <br/>
                
            
          </div>

          <div class="row colorRed" ng-if="doc.comments.length==0">
           <div class="container" >
                <div class="row">
                    No Comments to show
                </div>
          
            </div>

          <br>
          </div>


          <div class="row" ng-if="doc.ViewOnly!=true">
          
           <b>Add Comments :</b>


          </div>
          <div class="row" ng-if="doc.ViewOnly!=true">
          
           <textarea rows="6" cols="75" ng-model="doc.newComment" placeholder="Enter Your Comments Here"></textarea>


          </div>

            
        </div>
        <div class="modal-footer">
            <button class="btn btn-primary" ng-click="rejectRecord(doc)" ng-if="doc.ViewOnly!=true" >Save</button>
            <button class="btn btn-primary" ng-click="cancel()">Cancel</button>
        </div>
        </script>
  
    <!-- /.container -->

   
  

</body>
</html>
